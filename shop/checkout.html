<!doctype html>
<html lang="en">

<head>
	<link rel="stylesheet" href="https://fashiontoy.netlify.app/styles/main.css">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
	<title>Buy Shoes At Fashion Toy</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<script src="https://unpkg.com/cart-localstorage@1.1.4/dist/cart-localstorage.min.js" type="text/javascript"></script>
	<style>

		.sidenav {
		height: 100%;
		width: 0;
		position: fixed;
		z-index: 1;
		top: 0;
		left: 0;
		overflow-x: hidden;
		transition: 0.5s;
		padding-top: 60px;
		}

		.sidenav a {
		padding: 8px 8px 8px 32px;
		text-decoration: none;
		font-size: 25px;
		color: #818181;
		display: block;
		transition: 0.3s;
		}

		.sidenav a:hover {
		color: #f1f1f1;
		}

		.sidenav .closebtn {
		position: absolute;
		top: 0;
		right: 25px;
		font-size: 36px;
		margin-left: 50px;
		}

		#main {
		transition: margin-left .5s;
		padding: 16px;
		}

		@media screen and (max-height: 450px) {
		.sidenav {padding-top: 15px;}
		.sidenav a {font-size: 18px;}
		}
		.cartImage{
			position: fixed;
			bottom: 0;
			right: 0;
		}
		.card{
			text-align: center;
			border-style: solid;
			border-width:thin;
			padding-top: 1cm;
			padding-bottom: 1cm;
		}
	</style>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>
	<div id="main">
		<head>
			<nav>
				<a href="home.html"><img class="navigators" src="https://fashiontoy.netlify.app/images/logo.jpg" width="100px"></a>
				<div style="float: right;">
					<a href="https://fashiontoy.netlify.com/shop" class="navigators">Shop</a>
					<a href="https://fashiontoy.netlify.com/recourses" class="navigators">Resources</a>
					<a href="https://fashiontoy.netlify.com/contact" class="navigators">Contact</a>
				</div>
			</nav>
		</head>
        <div class="card-header">
                <h2>Cart</h2>
            </div>
            <div class="card-body">
                <table class="table">
                    <tbody class="cart">
                    </tbody>
                    <tfoot>
                        <td class="text-right">Total: <strong class="total"></strong></td>
                    </tfoot>
                </table>
            </div>
        </div>
        <button type="button" class="btn btn-block btn-sm btn-outline-primary" onmouseover="document.location='checkoutpage.html'">check out</button>
	</div>
	<script>
		function renderCart(items) {
			const $cart = document.querySelector(".cart")
			const $total = document.querySelector(".total")

			$cart.innerHTML = items.map((item) => `
					<tr>
						<td class="sidenavs">#${item.id}</td>
						<td class="sidenavs">${item.quantity}</td>
						<td class="sidenavs">
							<button type="button" class="btn btn-block btn-sm btn-outline-primary"
								onClick="cartLS.quantity(${item.id},1)">+</button>
						</td>
						<td class="sidenavs">	
							<button type="button" class="btn btn-block btn-sm btn-outline-primary"
								onClick="cartLS.quantity(${item.id},-1)">-</button>
						</td>
						<td class="text-right sidenavs">$${item.price}</td>
						<td class="text-right sidenavs"><Button class="btn btn-primary" onClick="cartLS.remove(${item.id})">Delete</Button></td>
					</tr>`).join("")

			$total.innerHTML = "$" + Math.round(cartLS.total())
		}
		renderCart(cartLS.list())
        cartLS.onChange(renderCart)
	</script>
</body>
</html>